@(transactions: List[Transaction])(implicit user: User.User)

@import helper._

@main("Blackbook | Transactions") {
  <div id="sidebar" style="float:left; color:black;">
    <h2>Actions</h2>
    <a href="@routes.Transactions.newTransaction()" style="width:100%;" class="fancy-button">Add Transaction</a>
  </div>
  <div id="dashboard-content">
	  <table class="box-table" summary="Transactions">
	    <tr>
	    	<th>Transaction</th>
	    	<th>Client</th>
	    	<th>Purchase</th>
	    	<th>Amount</th>
	    	<th>Purchased</th>
	    	<th>Cancelled</th>
	    	<th>Notes</th>
	    </tr>
	    @for(transaction <- transactions) {
		<tr>
	      <td>@transaction.id</td>
	      <td>@transaction.userName</td>
	      <td>@Product.find(transaction.productId).get.name
	          @if(transaction.quantity > 1){&nbsp;(x @transaction.quantity)}
	      </td>
	      <td>$@transaction.amount.setScale(2, BigDecimal.RoundingMode.HALF_UP).toDouble</td>
	      <td>@transaction.getCreateTime().toString()</td>
	      <td>@if(transaction.cancelled){Cancelled}else{<a href="#" style="width:100%;" class="fancy-button">Cancel</a>}</td>
	      <td><p style="max-width: 400px;">@transaction.notes</p></td>
	    </tr>
		}
	</table>
  </div>
  <br />
  <br />
}
